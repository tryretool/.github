<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>61.0</apiVersion>
    <assignments>
        <name>Assign_Portal_Call_to_Trigger</name>
        <label>Assign Portal Call to Trigger</label>
        <locationX>760</locationX>
        <locationY>2427</locationY>
        <assignmentItems>
            <assignToReference>$Record.Ops_Portal_Call__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Trigger</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_Solved_Slack</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Support_Tier</name>
        <label>Assign Support Tier</label>
        <locationX>671</locationX>
        <locationY>1218</locationY>
        <assignmentItems>
            <assignToReference>$Record.Support_Tier_Stamped__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Support_Tier__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Last_Email_Message</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Values_from_Record_Linking</name>
        <label>Assign Values from Record Linking</label>
        <locationX>1196</locationX>
        <locationY>693</locationY>
        <assignmentItems>
            <assignToReference>$Record.AccountId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Call_Record_Linking_Flow.Case.AccountId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Business_Unit__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Call_Record_Linking_Flow.Case.Business_Unit__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.EntitlementId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Call_Record_Linking_Flow.Case.EntitlementId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Primary_Org__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Call_Record_Linking_Flow.Case.Primary_Org__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.ContactId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Call_Record_Linking_Flow.Case.ContactId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Account_Region_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Call_Record_Linking_Flow.Case.Account_Region_at_Create__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.DE_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Call_Record_Linking_Flow.Case.DE_at_Create__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Trigger_Linking__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Call_Record_Linking_Flow.Case.Trigger_Linking__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Support_Tier_Stamped__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Call_Record_Linking_Flow.Case.Support_Tier_Stamped__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varSupportTierStamped</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Call_Record_Linking_Flow.Case.Support_Tier_Stamped__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Need_to_Assign_From_Billing</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Clear_Milestone_Fields</name>
        <label>Clear Milestone Fields</label>
        <locationX>1136</locationX>
        <locationY>1557</locationY>
        <assignmentItems>
            <assignToReference>$Record.Next_Milestone_At__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Next_Milestone_Type__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>Last_Retool_Reply_is</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Clear_Milestone_Fields_0</name>
        <label>Clear Milestone Fields</label>
        <locationX>1132</locationX>
        <locationY>1849</locationY>
        <assignmentItems>
            <assignToReference>$Record.Next_Milestone_At__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Next_Milestone_Type__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>Internal_Channel_Ping_Criteria</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Owner_to_CSR_Queue</name>
        <label>Owner to CSR Queue</label>
        <locationX>1097</locationX>
        <locationY>981</locationY>
        <assignmentItems>
            <assignToReference>$Record.OwnerId</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>00GQo000004fjIDMAY</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>012Qo000006wk1ZIAQ</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Set_CSAT_Sent_True</name>
        <label>Set CSAT Sent True</label>
        <locationX>1093</locationX>
        <locationY>2713</locationY>
        <assignmentItems>
            <assignToReference>$Record.Slack_CSAT_Sent__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Case</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Stamp_Internal_Ping_TS</name>
        <label>Stamp Internal Ping TS</label>
        <locationX>699</locationX>
        <locationY>2069</locationY>
        <assignmentItems>
            <assignToReference>$Record.Internal_Slack_Ping_At__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Needs_Auto_reply</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_Contact_Emails</name>
        <label>Update Contact Emails</label>
        <locationX>509</locationX>
        <locationY>595</locationY>
        <assignmentItems>
            <assignToReference>$Record.ContactEmail</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Collaborator_Contact_Role.Contact.Email</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.SuppliedEmail</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Collaborator_Contact_Role.Contact.Email</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.ContactId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Collaborator_Contact_Role.ContactId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Trigger_Linking__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Push_New_Case_Contact</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>First_Retool_Reply_is</name>
        <label>First Retool Reply is</label>
        <locationX>883</locationX>
        <locationY>1433</locationY>
        <defaultConnector>
            <targetReference>Last_Retool_Reply_is</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Already Set</defaultConnectorLabel>
        <rules>
            <name>Set</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.First_Retool_Reply_At__c</leftValueReference>
                <operator>IsBlank</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record__Prior.First_Retool_Reply_At__c</leftValueReference>
                <operator>IsBlank</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Last_Email_Message.Incoming</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Last_Email_Message.FromAddress</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>no-reply@retool.com</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_First_Response_Milestone</targetReference>
            </connector>
            <label>Set</label>
        </rules>
        <rules>
            <name>Set_Slack</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.First_Retool_Reply_At__c</leftValueReference>
                <operator>IsBlank</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Next_Milestone_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>First Response</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Origin</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Slack</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_First_Response_Milestone</targetReference>
            </connector>
            <label>Set Slack</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_Internal_Channel</name>
        <label>Has Internal Channel?</label>
        <locationX>593</locationX>
        <locationY>1984</locationY>
        <defaultConnector>
            <targetReference>Stamp_Internal_Ping_TS</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Internal Channel</defaultConnectorLabel>
        <rules>
            <name>Channel_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Implementation.Slack_Channel_Internal__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Implementation.Suppress_New_Case_Alerts__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Ping_Internal_Slack_Channel</targetReference>
            </connector>
            <label>Channel Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Internal_Channel_Ping_Criteria</name>
        <label>Internal Channel Ping Criteria</label>
        <locationX>887</locationX>
        <locationY>1851</locationY>
        <defaultConnector>
            <targetReference>Needs_Auto_reply</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Meets_Criteria</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Business_Unit__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Triage_Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Complete</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Internal_Slack_Ping_At__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>012Qo000006wk1ZIAQ</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Solved</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Closed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Merged</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CreatedDate</leftValueReference>
                <operator>GreaterThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>OneWeekDate</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Implementation</targetReference>
            </connector>
            <label>Meets Criteria</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Closed</name>
        <label>Is Closed?</label>
        <locationX>892</locationX>
        <locationY>1043</locationY>
        <defaultConnector>
            <targetReference>Support_Tier_Stamped_Check</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Closed Case</defaultConnectorLabel>
        <rules>
            <name>Closed_Case</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Closed</stringValue>
                </rightValue>
            </conditions>
            <label>Closed Case</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_New_Case</name>
        <label>Is New Case?</label>
        <locationX>890</locationX>
        <locationY>903</locationY>
        <defaultConnector>
            <targetReference>Is_Closed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not New Case Continue</defaultConnectorLabel>
        <rules>
            <name>New_Case</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record__Prior.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Push_New_Case_Updates</targetReference>
            </connector>
            <label>New Case</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Solved_Slack</name>
        <label>Is Solved Slack</label>
        <locationX>883</locationX>
        <locationY>2535</locationY>
        <defaultConnector>
            <targetReference>Update_Case</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Solved Slack Case</defaultConnectorLabel>
        <rules>
            <name>Solved_Slack_Case</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Solved</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Origin</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Slack</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record__Prior.First_Solved_At__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Slack_Channel_ID_at_Create__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>CSAT_Survey_Prompt</targetReference>
            </connector>
            <label>Solved Slack Case</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Solved_Slack_0</name>
        <label>Is Solved Slack</label>
        <locationX>1349</locationX>
        <locationY>133</locationY>
        <defaultConnectorLabel>Not Solved Slack Case</defaultConnectorLabel>
        <rules>
            <name>Solved_Slack_Case_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Solved</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Origin</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Slack</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Slack_Channel_ID_at_Create__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Trigger_Check_Mark_on_Case_Message</targetReference>
            </connector>
            <label>Solved Slack Case</label>
        </rules>
    </decisions>
    <decisions>
        <name>Last_Retool_Reply_is</name>
        <label>Last Retool Reply is</label>
        <locationX>888</locationX>
        <locationY>1669</locationY>
        <defaultConnector>
            <targetReference>Internal_Channel_Ping_Criteria</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Other</defaultConnectorLabel>
        <rules>
            <name>Updated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Last_Retool_Reply_At__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Last_Retool_Reply_At__c</leftValueReference>
                <operator>IsBlank</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Last_Email_Message.Incoming</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Last_Email_Message.FromAddress</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>no-reply@retool.com</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Next_Response_Milestone</targetReference>
            </connector>
            <label>Updated</label>
        </rules>
        <rules>
            <name>Slack_Updated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Last_Retool_Reply_At__c</leftValueReference>
                <operator>IsBlank</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Origin</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Slack</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Next_Milestone_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Next Response</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Last_Retool_Reply_At__c</leftValueReference>
                <operator>GreaterThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>$Record.Last_Customer_Reply_At__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Next_Response_Milestone</targetReference>
            </connector>
            <label>Slack Updated</label>
        </rules>
    </decisions>
    <decisions>
        <description>00GQo000004Y3HKMA0 is the billing queue</description>
        <name>Need_to_Assign_From_Billing</name>
        <label>Need to Reassign From Billing?</label>
        <locationX>1188</locationX>
        <locationY>891</locationY>
        <defaultConnector>
            <targetReference>Is_New_Case</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No change needed</defaultConnectorLabel>
        <rules>
            <name>Billing_Owner_and_Self_Service_Tier</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>012Qo000008NXwMIAW</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varSupportTierStamped</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>4; Self Service</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Submitted_By_Email_at_Create__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>jack.liu@retool.com</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Submitted_By_Email_at_Create__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>raquel-c@retool.com</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ContactEmail</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>lei-support@bloomberg.net</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_New_Case</targetReference>
            </connector>
            <label>Billing Owner and Self Service Tier</label>
        </rules>
    </decisions>
    <decisions>
        <name>Needs_Auto_reply</name>
        <label>Needs First Auto-reply?</label>
        <locationX>883</locationX>
        <locationY>2138</locationY>
        <defaultConnector>
            <targetReference>Portal_Case_is_Updated</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>First Auto Reply Sent</defaultConnectorLabel>
        <rules>
            <name>Auto_reply_not_sent</name>
            <conditionLogic>1 AND 2 AND (3 AND (4 OR 5)) AND 6 AND 7 AND 8 AND 9</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Auto_reply_Sent_At__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Triage_Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Complete</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Priority</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Critical</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Support_Tier__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>2; Premium</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Support_Tier__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>1; Custom</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Origin</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Slack</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Solved</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Closed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Last_Retool_Reply_At__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Trigger_AutoReply</targetReference>
            </connector>
            <label>Initial Auto-reply not sent</label>
        </rules>
    </decisions>
    <decisions>
        <name>Portal_Case_is_Updated</name>
        <label>Portal Case is Updated</label>
        <locationX>882</locationX>
        <locationY>2328</locationY>
        <defaultConnector>
            <targetReference>Is_Solved_Slack</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Call Needed</defaultConnectorLabel>
        <rules>
            <name>Set_Portal_Call_to_Trigger</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.LastModifiedDate</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.LastModifiedDate</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Origin</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Portal</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Portal_Call_to_Trigger</targetReference>
            </connector>
            <label>Set Portal Call to Trigger</label>
        </rules>
    </decisions>
    <decisions>
        <name>Retool_Submitted_Case</name>
        <label>Retool Case</label>
        <locationX>894</locationX>
        <locationY>460</locationY>
        <defaultConnector>
            <targetReference>Trigger_Record_Linking</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Non Retool Case</defaultConnectorLabel>
        <rules>
            <name>Core_email_contains_retool_com</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.SuppliedEmail</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>@retool.com</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ContactEmail</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>@retool.com</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Collaborator_Contact_Role</targetReference>
            </connector>
            <label>Core email contains retool.com</label>
        </rules>
    </decisions>
    <decisions>
        <name>Support_Tier_Stamped_Check</name>
        <label>Support Tier (Stamped) Check</label>
        <locationX>886</locationX>
        <locationY>1171</locationY>
        <defaultConnector>
            <targetReference>Get_Last_Email_Message</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Support Tier Okay</defaultConnectorLabel>
        <rules>
            <name>Support_Tier_different_than_Formula</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Support_Tier_Stamped__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record.Support_Tier__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Closed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Merged</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Support_Tier</targetReference>
            </connector>
            <label>Support Tier different than Formula</label>
        </rules>
    </decisions>
    <decisions>
        <name>Suppress_Automations</name>
        <label>Suppress Automations?</label>
        <locationX>892</locationX>
        <locationY>311</locationY>
        <defaultConnector>
            <targetReference>Retool_Submitted_Case</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Automations Allowed</defaultConnectorLabel>
        <rules>
            <name>Automations_Suppressed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Suppress_Automations__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <label>Automations Suppressed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Trigger_Record_Linking</name>
        <label>Trigger Record Linking</label>
        <locationX>891</locationX>
        <locationY>773</locationY>
        <defaultConnector>
            <targetReference>Is_New_Case</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Record_Linking_True</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Trigger_Linking__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Call_Record_Linking_Flow</targetReference>
            </connector>
            <label>Record Linking True</label>
        </rules>
    </decisions>
    <decisions>
        <name>Was_Collaborator_Found</name>
        <label>Was Collaborator Found?</label>
        <locationX>707</locationX>
        <locationY>594</locationY>
        <defaultConnector>
            <targetReference>Trigger_Record_Linking</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>None Found</defaultConnectorLabel>
        <rules>
            <name>Found_a_Collaborator</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Collaborator_Contact_Role.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Contact_Emails</targetReference>
            </connector>
            <label>Found a Collaborator</label>
        </rules>
    </decisions>
    <description>Stopping billing to csr automatic handoff to allow billing agent to decide</description>
    <environments>Default</environments>
    <formulas>
        <name>emailSemiColon</name>
        <dataType>String</dataType>
        <expression>{!$Record.Contact.Email}&amp;&quot;;&quot;</expression>
    </formulas>
    <formulas>
        <name>OneWeekDate</name>
        <dataType>Date</dataType>
        <expression>TODAY() - 7</expression>
    </formulas>
    <interviewLabel>Case - After Save Automations {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Case - After Save Automations</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>Get_Collaborator_Contact_Role</name>
        <label>Get Collaborator Contact Role</label>
        <locationX>710</locationX>
        <locationY>452</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Was_Collaborator_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>CasesId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Role</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Retool</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>CaseContactRole</object>
        <sortField>CreatedDate</sortField>
        <sortOrder>Asc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Implementation</name>
        <label>Get Implementation</label>
        <locationX>601</locationX>
        <locationY>1847</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Has_Internal_Channel</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Business_Unit__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Business_Unit__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Implementation__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Last_Email_Message</name>
        <label>Get Last Email Message</label>
        <locationX>889</locationX>
        <locationY>1304</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>First_Retool_Reply_is</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ParentId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>EmailMessage</object>
        <sortField>MessageDate</sortField>
        <sortOrder>Desc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Push_New_Case_Contact</name>
        <label>Push New Case Contact</label>
        <locationX>509</locationX>
        <locationY>750</locationY>
        <connector>
            <targetReference>Trigger_Record_Linking</targetReference>
        </connector>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Push_New_Case_Updates</name>
        <label>Push New Case Updates</label>
        <locationX>754</locationX>
        <locationY>956</locationY>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Case</name>
        <label>Update Case</label>
        <locationX>890</locationX>
        <locationY>2904</locationY>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_First_Response_Milestone</name>
        <label>Update First Response Milestone</label>
        <locationX>1138</locationX>
        <locationY>1431</locationY>
        <connector>
            <targetReference>Clear_Milestone_Fields</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>MilestoneTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>5576e000000sXtbAAE</stringValue>
            </value>
        </filters>
        <filters>
            <field>IsCompleted</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <inputAssignments>
            <field>CompletionDate</field>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record.CaseMilestones</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Next_Response_Milestone</name>
        <label>Update Next Response Milestone</label>
        <locationX>1133</locationX>
        <locationY>1669</locationY>
        <connector>
            <targetReference>Clear_Milestone_Fields_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>MilestoneTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>557Qo000000D5ujIAC</stringValue>
            </value>
        </filters>
        <filters>
            <field>IsCompleted</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <inputAssignments>
            <field>CompletionDate</field>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record.CaseMilestones</inputReference>
    </recordUpdates>
    <start>
        <locationX>769</locationX>
        <locationY>50</locationY>
        <connector>
            <targetReference>Suppress_Automations</targetReference>
        </connector>
        <object>Case</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <scheduledPaths>
            <name>Trigger_Emoji_Reaction</name>
            <connector>
                <targetReference>Is_Solved_Slack_0</targetReference>
            </connector>
            <label>Trigger Emoji Reaction</label>
            <offsetNumber>1</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>First_Solved_At__c</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <subflows>
        <name>Call_Record_Linking_Flow</name>
        <label>Call Record Linking Flow</label>
        <locationX>1076</locationX>
        <locationY>693</locationY>
        <connector>
            <targetReference>Assign_Values_from_Record_Linking</targetReference>
        </connector>
        <flowName>Case_Autolaunch_Record_Linking</flowName>
        <inputAssignments>
            <name>Case</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CSAT_Survey_Prompt</name>
        <label>CSAT Survey Prompt</label>
        <locationX>1093</locationX>
        <locationY>2543</locationY>
        <connector>
            <targetReference>Set_CSAT_Sent_True</targetReference>
        </connector>
        <flowName>Centro_CSAT_Survey_Prompt</flowName>
        <inputAssignments>
            <name>varCaseId</name>
            <value>
                <elementReference>varCaseId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varChannelId</name>
            <value>
                <elementReference>varSlackChannelId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varMessageTs</name>
            <value>
                <elementReference>varSlackMessageTimestamp</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varSlackUserId</name>
            <value>
                <elementReference>varSlackUserId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varUsername</name>
            <value>
                <elementReference>varSlackUsername</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Ping_Internal_Slack_Channel</name>
        <label>Ping Internal Slack Channel</label>
        <locationX>446</locationX>
        <locationY>2061</locationY>
        <connector>
            <targetReference>Stamp_Internal_Ping_TS</targetReference>
        </connector>
        <flowName>Case_Slack_Alert_for_Case_Create</flowName>
        <inputAssignments>
            <name>internalChannelId</name>
            <value>
                <elementReference>Get_Implementation.Slack_Channel_Internal__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Trigger_AutoReply</name>
        <label>Trigger AutoReply</label>
        <locationX>1009</locationX>
        <locationY>2238</locationY>
        <connector>
            <targetReference>Portal_Case_is_Updated</targetReference>
        </connector>
        <flowName>Case_Support_Auto_Reply</flowName>
        <inputAssignments>
            <name>caseId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Trigger_Check_Mark_on_Case_Message</name>
        <label>Trigger Check Mark on Case Message</label>
        <locationX>1356</locationX>
        <locationY>309</locationY>
        <flowName>Centro_Solved_Case_Check_Mark_Trigger</flowName>
        <inputAssignments>
            <name>varChannelID</name>
            <value>
                <elementReference>varSlackChannelId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varMessageTimestamp</name>
            <value>
                <elementReference>varSlackMessageTimestamp</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <textTemplates>
        <name>CaseClosedAutoReplyBody</name>
        <isViewedAsPlainText>false</isViewedAsPlainText>
        <text>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 11.36px; font-family: Arial, Helvetica, sans-serif; color: rgb(0, 0, 0);&quot;&gt;Thank you for reaching out to us again, {!recordId.Contact.FirstName}!&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 11.36px; font-family: Arial, Helvetica, sans-serif; color: rgb(0, 0, 0);&quot;&gt;The support ticket you have responded to has been closed. We hope your issue has been fully resolved. If you have any further questions or need additional assistance, please submit a new request from our &lt;/span&gt;&lt;a href=&quot;https://help.retool.com&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot; style=&quot;background-color: rgb(255, 255, 255); font-size: 11.36px; font-family: Arial, Helvetica, sans-serif; color: rgb(0, 0, 0);&quot;&gt;Help portal&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 11.36px; font-family: Arial, Helvetica, sans-serif; color: rgb(0, 0, 0);&quot;&gt;We&#39;re looking forward to helping with your new request!&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 11.36px; font-family: Arial, Helvetica, sans-serif; color: rgb(0, 0, 0);&quot;&gt;Sincerely,&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 11.36px; font-family: Arial, Helvetica, sans-serif; color: rgb(0, 0, 0);&quot;&gt;The Retool Support Team&lt;/span&gt;&lt;/p&gt;</text>
    </textTemplates>
    <textTemplates>
        <name>secuirty_triage_body</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>{
    &quot;Id&quot;: &quot;{!$Record.Id}&quot;,
    &quot;Subject&quot;: &quot;{!$Record.Subject}&quot;,
    &quot;Description&quot;: &quot;{!$Record.Description}&quot;
}</text>
    </textTemplates>
    <triggerOrder>10</triggerOrder>
    <variables>
        <name>error_details</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <name>response_body</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>response_code</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>to_emails</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varCaseId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>$Record.Id</elementReference>
        </value>
    </variables>
    <variables>
        <name>varSlackChannelId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>$Record.Slack_Channel_ID_at_Create__c</elementReference>
        </value>
    </variables>
    <variables>
        <name>varSlackMessageTimestamp</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>$Record.Slack_Thread_Timestamp__c</elementReference>
        </value>
    </variables>
    <variables>
        <name>varSlackUserId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>$Record.Slack_User_ID__c</elementReference>
        </value>
    </variables>
    <variables>
        <name>varSlackUsername</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>$Record.Slack_Username__c</elementReference>
        </value>
    </variables>
    <variables>
        <name>varSupportTierStamped</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
