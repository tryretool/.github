<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Notify_Slack_Channel</name>
        <label>Notify Slack Channel</label>
        <locationX>341</locationX>
        <locationY>736</locationY>
        <actionName>Centro__SendMessageFlow</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Contact_Info_Provided</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>channelId</name>
            <value>
                <stringValue>C073N7D0PRC</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>channelName</name>
            <value>
                <stringValue>support-ops-alerts</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>InterviewGuid</name>
            <value>
                <stringValue>{!$Flow.InterviewGuid}</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>message</name>
            <value>
                <stringValue>&lt;p&gt;&lt;strong&gt;A case has been created from a Slack channel missing a mapping on any Implementation&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;Please review and confirm if that channel should be mapped or if our bot should be removed from the channel. &lt;/p&gt;</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>pinMessage</name>
            <value>
                <stringValue>false</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>recordId</name>
            <value>
                <elementReference>CaseID</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>showCompactLayout</name>
            <value>
                <stringValue>true</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>usePlainText</name>
            <value>
                <stringValue>false</stringValue>
            </value>
        </inputParameters>
        <nameSegment>Centro__SendMessageFlow</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <apiVersion>63.0</apiVersion>
    <assignments>
        <name>Assign_Account_and_BU_From_Implementation</name>
        <label>Assign Account and BU From Implementation</label>
        <locationX>469</locationX>
        <locationY>585</locationY>
        <assignmentItems>
            <assignToReference>Case.AccountId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Implementations.Account__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Business_Unit__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Implementations.Business_Unit__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Contact_Info_Provided</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>0015A00002NSnxVQAT is the Retool Account</description>
        <name>Assign_Account_and_Nothing_Else</name>
        <label>Assign Account and Nothing Else</label>
        <locationX>473</locationX>
        <locationY>965</locationY>
        <assignmentItems>
            <assignToReference>Case.AccountId</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>0015A00002NSnxVQAT</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Link_Account</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Account_Stamps</name>
        <label>Assign Account Stamps</label>
        <locationX>725</locationX>
        <locationY>1499</locationY>
        <assignmentItems>
            <assignToReference>Case.Account_Region_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Account_For_Stamps.Billing_Subregion__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.DE_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Account_For_Stamps.Technical_Account_Manager__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>How_to_Assign_Entitlement</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_AccountToLink</name>
        <label>Assign AccountToLink</label>
        <locationX>439</locationX>
        <locationY>1373</locationY>
        <assignmentItems>
            <assignToReference>Case.AccountId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AccountToLink</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Need_to_Stamp_Account_Values</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Apple_Contact</name>
        <label>Assign Apple Contact</label>
        <locationX>1424</locationX>
        <locationY>731</locationY>
        <assignmentItems>
            <assignToReference>Case.ContactId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Contact_by_Email.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Apple_User</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Apple_Org_and_BU</name>
        <label>Assign Apple Org and BU</label>
        <locationX>1421</locationX>
        <locationY>1439</locationY>
        <assignmentItems>
            <assignToReference>Case.Primary_Org__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Apple_User.Retool_Org__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Business_Unit__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Apple_User.Retool_Org__r.Business_Unit__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Plan_Name_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Apple_User.Retool_Org__r.Plan_Name__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Primary_Org_SID_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Apple_User.Retool_Org__r.Org_SID__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Hosting_Style_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Apple_User.Retool_Org__r.Business_Unit__r.Platform_Type__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Primary_Org_Version_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Apple_User.Retool_Org__r.Latest_App_Version__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Account_State_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Apple_User.Retool_Org__r.Business_Unit__r.Implementation__r.Mode__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Sentiment_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Apple_User.Retool_Org__r.Business_Unit__r.Implementation__r.Sentiment__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Source_Control_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SourceControl</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.SSO_Details_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SSODetails</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Deployment_Detail_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>DeploymentDetail</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Link_Account</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Billing_BU</name>
        <label>Assign Billing BU</label>
        <locationX>985</locationX>
        <locationY>1104</locationY>
        <assignmentItems>
            <assignToReference>Case.Business_Unit__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Billing_BU.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Hosting_Style_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Billing_BU.Platform_Type__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Account_State_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Billing_BU.Implementation__r.Mode__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Sentiment_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Billing_BU.Implementation__r.Sentiment__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Link_Account</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Contact</name>
        <label>Assign Contact</label>
        <locationX>1285</locationX>
        <locationY>864</locationY>
        <assignmentItems>
            <assignToReference>Case.ContactId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Contact_by_Email.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Users</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Default_Fallback_Entitlement</name>
        <label>Assign Default Fallback Entitlement</label>
        <locationX>721</locationX>
        <locationY>1929</locationY>
        <assignmentItems>
            <assignToReference>Case.EntitlementId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Fallback_Entitlement.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Support_Tier</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Entitlement_from_Account</name>
        <label>Assign Entitlement from Account</label>
        <locationX>949</locationX>
        <locationY>2039</locationY>
        <assignmentItems>
            <assignToReference>Case.EntitlementId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Account.Support_Entitlement__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Support_Tier</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Entitlement_from_BU</name>
        <label>Assign Entitlement from BU</label>
        <locationX>400</locationX>
        <locationY>2039</locationY>
        <assignmentItems>
            <assignToReference>Case.EntitlementId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_BU.Support_Entitlement__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Support_Tier</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Org</name>
        <label>Assign Org and BU</label>
        <locationX>1294</locationX>
        <locationY>1266</locationY>
        <assignmentItems>
            <assignToReference>Case.Primary_Org__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Users.Retool_Org__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Business_Unit__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Users.Retool_Org__r.Business_Unit__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Plan_Name_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Users.Retool_Org__r.Plan_Name__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Primary_Org_SID_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Users.Retool_Org__r.Org_SID__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Hosting_Style_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Users.Retool_Org__r.Business_Unit__r.Platform_Type__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Primary_Org_Version_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Users.Retool_Org__r.Latest_App_Version__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Account_State_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Users.Retool_Org__r.Business_Unit__r.Implementation__r.Mode__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Sentiment_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Users.Retool_Org__r.Business_Unit__r.Implementation__r.Sentiment__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Source_Control_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SourceControl</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.SSO_Details_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SSODetails</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Deployment_Detail_at_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>DeploymentDetail</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Link_Account</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Support_Tier</name>
        <label>Assign Support Tier</label>
        <locationX>614</locationX>
        <locationY>2039</locationY>
        <assignmentItems>
            <assignToReference>Case.Support_Tier_Stamped__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SupportTier</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Trigger_Linking__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Case</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Clear_Existing_Linked_Values</name>
        <label>Clear Existing Linked Values</label>
        <locationX>614</locationX>
        <locationY>182</locationY>
        <assignmentItems>
            <assignToReference>Case.AccountId</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Business_Unit__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.EntitlementId</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Primary_Org__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.ContactId</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Account_Region_at_Create__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.DE_at_Create__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Case.Trigger_Linking__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Slack_Channel</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Billing_Record_Check</name>
        <label>Billing Record Check</label>
        <locationX>1103</locationX>
        <locationY>919</locationY>
        <defaultConnector>
            <targetReference>Link_Account</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Billing</defaultConnectorLabel>
        <rules>
            <name>Billing_Record_Type</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Case.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>012Qo000008NXwMIAW</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Billing_BU</targetReference>
            </connector>
            <label>Billing Record</label>
        </rules>
    </decisions>
    <decisions>
        <name>Contact_Info_Provided</name>
        <label>Contact Info Provided?</label>
        <locationX>606</locationX>
        <locationY>732</locationY>
        <defaultConnector>
            <targetReference>Link_Account</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Email Info</defaultConnectorLabel>
        <rules>
            <name>Contact_Provided_0</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>EmailforLinking</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Contact_by_Email</targetReference>
            </connector>
            <label>Contact Provided</label>
        </rules>
        <rules>
            <name>Retool_Contact_Info</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>EmailforLinking</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>@retool.com</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Account_and_Nothing_Else</targetReference>
            </connector>
            <label>Retool Contact Info</label>
        </rules>
    </decisions>
    <decisions>
        <description>012Qo000008NXwMIAW is Billing Record Type
012Qo000006wk1ZIAQ is Support Record Type</description>
        <name>How_to_Assign_Entitlement</name>
        <label>How to Assign Entitlement?</label>
        <locationX>603</locationX>
        <locationY>1617</locationY>
        <defaultConnector>
            <targetReference>Assign_Support_Tier</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Don&#39;t Assign</defaultConnectorLabel>
        <rules>
            <name>Billing_Record</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Case.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>012Qo000008NXwMIAW</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Fallback_Entitlement</targetReference>
            </connector>
            <label>Billing Record</label>
        </rules>
        <rules>
            <name>Entitlement_from_BU</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Case.Business_Unit__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_BU</targetReference>
            </connector>
            <label>Entitlement from BU</label>
        </rules>
        <rules>
            <name>Entitlement_from_Account</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Case.AccountId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Account</targetReference>
            </connector>
            <label>Entitlement from Account</label>
        </rules>
        <rules>
            <name>Self_Serve</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Case.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>012Qo000006wk1ZIAQ</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Fallback_Entitlement</targetReference>
            </connector>
            <label>Self-Serve</label>
        </rules>
    </decisions>
    <decisions>
        <name>Implementation_Found</name>
        <label>Implementation Found?</label>
        <locationX>337</locationX>
        <locationY>472</locationY>
        <defaultConnector>
            <targetReference>Notify_Slack_Channel</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Found Implementation</defaultConnectorLabel>
        <rules>
            <name>Found_Implementation</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Implementations.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Account_and_BU_From_Implementation</targetReference>
            </connector>
            <label>Found Implementation</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Entitlement_Blank</name>
        <label>Is Entitlement Blank?</label>
        <locationX>956</locationX>
        <locationY>1773</locationY>
        <defaultConnector>
            <targetReference>Assign_Entitlement_from_Account</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Has Entitlement</defaultConnectorLabel>
        <rules>
            <name>No_Entitlement</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Account.Support_Entitlement__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Fallback_Entitlement</targetReference>
            </connector>
            <label>No Entitlement</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Entitlement_Blank_0</name>
        <label>Is Entitlement Blank?</label>
        <locationX>384</locationX>
        <locationY>1767</locationY>
        <defaultConnector>
            <targetReference>Assign_Entitlement_from_BU</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Has Entitlement</defaultConnectorLabel>
        <rules>
            <name>No_Entitlement_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_BU.Support_Entitlement__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Fallback_Entitlement</targetReference>
            </connector>
            <label>No Entitlement</label>
        </rules>
    </decisions>
    <decisions>
        <name>Link_Account</name>
        <label>Link Account?</label>
        <locationX>604</locationX>
        <locationY>1213</locationY>
        <defaultConnector>
            <targetReference>Need_to_Stamp_Account_Values</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Link Needed</defaultConnectorLabel>
        <rules>
            <name>Null_Account_with_Linkable_Account</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Case.AccountId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>AccountToLink</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_AccountToLink</targetReference>
            </connector>
            <label>Null Account with Linkable Account</label>
        </rules>
    </decisions>
    <decisions>
        <name>Need_to_Stamp_Account_Values</name>
        <label>Need to Stamp Account Values?</label>
        <locationX>600</locationX>
        <locationY>1375</locationY>
        <defaultConnector>
            <targetReference>How_to_Assign_Entitlement</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Stamp_Account_Values</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Case.AccountId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Account_For_Stamps</targetReference>
            </connector>
            <label>Stamp Account Values</label>
        </rules>
    </decisions>
    <decisions>
        <name>Slack_Channel</name>
        <label>Slack Channel?</label>
        <locationX>607</locationX>
        <locationY>331</locationY>
        <defaultConnector>
            <targetReference>Contact_Info_Provided</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Slack Channel</defaultConnectorLabel>
        <rules>
            <name>Slack_Channel_Provided</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Case.Slack_Channel_ID_at_Create__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Implementations</targetReference>
            </connector>
            <label>Slack Channel Provided</label>
        </rules>
    </decisions>
    <decisions>
        <name>Was_Apple_User_Found</name>
        <label>Was Apple  User Found?</label>
        <locationX>1415</locationX>
        <locationY>1160</locationY>
        <defaultConnectorLabel>No User Found</defaultConnectorLabel>
        <rules>
            <name>User_Found_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Apple_User.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Apple_Org_and_BU</targetReference>
            </connector>
            <label>Apple User Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Was_Billing_BU_Found</name>
        <label>Was Billing BU Found?</label>
        <locationX>1101</locationX>
        <locationY>1184</locationY>
        <defaultConnector>
            <targetReference>Link_Account</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No BU Found</defaultConnectorLabel>
        <rules>
            <name>Billing_BU_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Billing_BU.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Billing_BU</targetReference>
            </connector>
            <label>Billing BU Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Was_Contact_Found</name>
        <label>Was Contact Found?</label>
        <locationX>795</locationX>
        <locationY>870</locationY>
        <defaultConnector>
            <targetReference>Get_Domain_Maps</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Contact Found</defaultConnectorLabel>
        <rules>
            <name>Apple_Contact_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Contact_by_Email.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Contact_by_Email.AccountId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>0015A00002V1GfyQAF</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Apple_Contact</targetReference>
            </connector>
            <label>Apple Contact Found</label>
        </rules>
        <rules>
            <name>Contact_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Contact_by_Email.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Contact</targetReference>
            </connector>
            <label>Contact Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Was_User_Found</name>
        <label>Was User Found?</label>
        <locationX>1284</locationX>
        <locationY>1105</locationY>
        <defaultConnector>
            <targetReference>Billing_Record_Check</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No User Found</defaultConnectorLabel>
        <rules>
            <name>User_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Users.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Org</targetReference>
            </connector>
            <label>User Found</label>
        </rules>
    </decisions>
    <description>handling Apple contacts, stamping BU and Org despite disabled users</description>
    <environments>Default</environments>
    <formulas>
        <name>AccountToLink</name>
        <dataType>String</dataType>
        <expression>/* If already assigned, keep existing account */
BLANKVALUE( {!Case.AccountId} ,
/* Check if the Org is linked to a non-aggregation account, use that if so */
BLANKVALUE( IF({!Get_Users.Retool_Org__r.Account__r.Is_Aggregation_Account__c} = TRUE, &quot;&quot;, 
 {!Get_Users.Retool_Org__r.Account__c}), 
/* Use the contact&#39;s account if non-aggregation account */
BLANKVALUE( IF({!Get_Contact_by_Email.Account.Is_Aggregation_Account__c} = TRUE, &quot;&quot;, {!Get_Contact_by_Email.AccountId}),  
/* Use domain map next */
BLANKVALUE( {!Get_Domain_Maps.Matched_Account__c} ,
&quot;&quot; ))))</expression>
    </formulas>
    <formulas>
        <name>CaseID</name>
        <dataType>String</dataType>
        <expression>{!Case.Id}</expression>
    </formulas>
    <formulas>
        <name>DeploymentDetail</name>
        <dataType>String</dataType>
        <expression>IF(
  NOT(ISBLANK({!Get_Apple_User.Id})),
  TEXT({!Get_Apple_User.Retool_Org__r.Business_Unit__r.Implementation__r.Deployment_Type__c}),
  TEXT({!Get_Users.Retool_Org__r.Business_Unit__r.Implementation__r.Deployment_Type__c})
)</expression>
    </formulas>
    <formulas>
        <name>DomainFromEmail</name>
        <dataType>String</dataType>
        <expression>SUBSTITUTE( {!EmailforLinking}, LEFT({!EmailforLinking}, FIND(&quot;@&quot;, {!EmailforLinking})), NULL)</expression>
    </formulas>
    <formulas>
        <name>EmailforLinking</name>
        <dataType>String</dataType>
        <expression>BLANKVALUE({!Case.Slack_User_Email__c}, 
BLANKVALUE( {!Case.SuppliedEmail} , 
BLANKVALUE( {!Case.ContactEmail}, {!Case.Submitted_By_Email_at_Create__c}
)))</expression>
    </formulas>
    <formulas>
        <name>SourceControl</name>
        <dataType>String</dataType>
        <expression>IF(
  NOT(ISBLANK({!Get_Apple_User.Id})),
  TEXT({!Get_Apple_User.Retool_Org__r.Business_Unit__r.Implementation__r.Source_Control_Provider__c}) &amp; &quot;: &quot; &amp;
  {!Get_Apple_User.Retool_Org__r.Business_Unit__r.Implementation__r.Source_Control_Details__c},
  TEXT({!Get_Users.Retool_Org__r.Business_Unit__r.Implementation__r.Source_Control_Provider__c}) &amp; &quot;: &quot; &amp;
  {!Get_Users.Retool_Org__r.Business_Unit__r.Implementation__r.Source_Control_Details__c}
)</expression>
    </formulas>
    <formulas>
        <name>SSODetails</name>
        <dataType>String</dataType>
        <expression>IF(
  NOT(ISBLANK({!Get_Apple_User.Id})),
  TEXT({!Get_Apple_User.Retool_Org__r.Business_Unit__r.Implementation__r.SSO_Provider__c}) &amp; &quot;; &quot; &amp;
  TEXT({!Get_Apple_User.Retool_Org__r.Business_Unit__r.Implementation__r.SSO_Protocol__c}) &amp; &quot;; &quot; &amp;
  {!Get_Apple_User.Retool_Org__r.Business_Unit__r.Implementation__r.SSO_Details__c},
  TEXT({!Get_Users.Retool_Org__r.Business_Unit__r.Implementation__r.SSO_Provider__c}) &amp; &quot;; &quot; &amp;
  TEXT({!Get_Users.Retool_Org__r.Business_Unit__r.Implementation__r.SSO_Protocol__c}) &amp; &quot;; &quot; &amp;
  {!Get_Users.Retool_Org__r.Business_Unit__r.Implementation__r.SSO_Details__c}
)</expression>
    </formulas>
    <formulas>
        <name>SupportTier</name>
        <dataType>String</dataType>
        <expression>IF(
  {!Get_Contact_by_Email.AccountId} = &quot;001Qo00000tQHtcIAG&quot;,
  &quot;3; Committed&quot;,
IF( AND(NOT(ISBLANK( {!Case.EntitlementId} )), {!Case.RecordType.Name} = &#39;Support&#39;), 

CASE( {!Case.Entitlement.Tier__c} ,
&quot;Custom&quot;, &quot;1; Custom&quot;,
&quot;Premium&quot;, &quot;2; Premium&quot;,
&quot;Enterprise&quot;, &quot;3; Committed&quot;,
&quot;Enterprise [Legacy]&quot;, &quot;3; Committed&quot;,
&quot;Basic&quot;, &quot;3; Committed&quot;,
&quot;Basic [Legacy]&quot;, &quot;3; Committed&quot;,
&quot;4; Self Service&quot;),

IF( NOT(ISBLANK( {!Case.Account.Support_SLA__c} )),

CASE( {!Case.Account.Support_SLA__r.Tier__c} ,
&quot;Custom&quot;, &quot;1; Custom&quot;,
&quot;Premium&quot;, &quot;2; Premium&quot;,
&quot;Enterprise&quot;, &quot;3; Committed&quot;,
&quot;Enterprise [Legacy]&quot;, &quot;3; Committed&quot;,
&quot;Basic&quot;, &quot;3; Committed&quot;,
&quot;Basic [Legacy]&quot;, &quot;3; Committed&quot;,
&quot;4; Self Service&quot;)

, &quot;4; Self Service&quot;)))</expression>
    </formulas>
    <interviewLabel>Case - Autolaunch Record Linking {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Case - Autolaunch Record Linking</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>Get_Account</name>
        <label>Get Account</label>
        <locationX>959</locationX>
        <locationY>1620</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_Entitlement_Blank</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Case.AccountId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Account_For_Stamps</name>
        <label>Get Account for Stamps</label>
        <locationX>723</locationX>
        <locationY>1370</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_Account_Stamps</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Case.AccountId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Apple_User</name>
        <label>Get Apple User</label>
        <locationX>1424</locationX>
        <locationY>950</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Was_Apple_User_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Contact__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Contact_by_Email.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Org_Hierarchy__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Retool_User__c</object>
        <sortField>Org_Hierarchy__c</sortField>
        <sortOrder>Desc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Billing_BU</name>
        <label>Get Billing BU</label>
        <locationX>1110</locationX>
        <locationY>1068</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Was_Billing_BU_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Account__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Contact_by_Email.AccountId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Business_Unit__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_BU</name>
        <label>Get BU</label>
        <locationX>393</locationX>
        <locationY>1617</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_Entitlement_Blank_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Case.Business_Unit__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Business_Unit__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Contact_by_Email</name>
        <label>Get Contact by Email</label>
        <locationX>803</locationX>
        <locationY>727</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Was_Contact_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Email</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>EmailforLinking</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Contact</object>
        <sortField>LastModifiedDate</sortField>
        <sortOrder>Desc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Domain_Maps</name>
        <label>Get Domain Maps</label>
        <locationX>792</locationX>
        <locationY>1051</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Link_Account</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>DomainFromEmail</elementReference>
            </value>
        </filters>
        <filters>
            <field>Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Corporate</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Domain_Map__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Fallback_Entitlement</name>
        <label>Get Fallback Entitlement</label>
        <locationX>721</locationX>
        <locationY>1781</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_Default_Fallback_Entitlement</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Default_CSR_Entitlement__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Entitlement</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Implementations</name>
        <label>Get Implementations</label>
        <locationX>345</locationX>
        <locationY>337</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Implementation_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Slack_Channel_External__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Case.Slack_Channel_ID_at_Create__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Implementation__c</object>
        <sortField>CreatedDate</sortField>
        <sortOrder>Desc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Users</name>
        <label>Get Users</label>
        <locationX>1291</locationX>
        <locationY>971</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Was_User_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Contact__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Contact_by_Email.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Org_Hierarchy__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </filters>
        <filters>
            <field>Is_Enabled__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Retool_User__c</object>
        <sortField>Org_Hierarchy__c</sortField>
        <sortOrder>Desc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_Case</name>
        <label>Update Case</label>
        <locationX>614</locationX>
        <locationY>2173</locationY>
        <inputReference>Case</inputReference>
    </recordUpdates>
    <start>
        <locationX>488</locationX>
        <locationY>50</locationY>
        <connector>
            <targetReference>Clear_Existing_Linked_Values</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>Case</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Case</objectType>
    </variables>
</Flow>
