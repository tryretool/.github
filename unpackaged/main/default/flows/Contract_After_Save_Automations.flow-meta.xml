<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>52.0</apiVersion>
    <assignments>
        <name>Build_new_contact</name>
        <label>Build new contact</label>
        <locationX>2652</locationX>
        <locationY>299</locationY>
        <assignmentItems>
            <assignToReference>buyer_contact.AccountId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.AccountId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>buyer_contact.Email</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Marketplace_Terms_Buyer_Email__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>buyer_contact.FirstName</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Marketplace_Terms_Buyer_First_Name__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>buyer_contact.LastName</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Marketplace_Terms_Buyer_Last_Name__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_contacct</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Mark_auto_deal_desk_approval</name>
        <label>Mark auto deal desk approval</label>
        <locationX>5951</locationX>
        <locationY>361</locationY>
        <assignmentItems>
            <assignToReference>Get_opp.Deal_Desk_Review__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>RevOps Auto-Approval</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_opp</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Move_opp_to_stage_6</name>
        <label>Move opp to stage 6</label>
        <locationX>5337</locationX>
        <locationY>360</locationY>
        <assignmentItems>
            <assignToReference>Get_opp.StageName</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>(6) Signature</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Get_opp.Permission_Check__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>RevOps_stamp_DocuSign_ID</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_contact_equal_to_found</name>
        <label>Set contact equal to found</label>
        <locationX>2656</locationX>
        <locationY>153</locationY>
        <assignmentItems>
            <assignToReference>buyer_contact</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_buyer_contact</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_marketplace_buyer_contact_role</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_open_renewal_auto_close</name>
        <label>Set open renewal auto-close</label>
        <locationX>1494</locationX>
        <locationY>338</locationY>
        <assignmentItems>
            <assignToReference>Get_open_renewal.Auto_close__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Get_open_renewal.Auto_close_Notice_days__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Auto_renewal_notice_days__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Get_open_renewal.CloseDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>open_renewal_auto_close_RTCD</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Get_open_renewal.Renewal_Target_Close_Date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>open_renewal_auto_close_RTCD</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_open_renewal</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_open_renewal_remove_auto_close</name>
        <label>Set open renewal remove auto close</label>
        <locationX>1523</locationX>
        <locationY>512</locationY>
        <assignmentItems>
            <assignToReference>Get_open_renewal.Auto_close__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Get_open_renewal.Auto_close_Notice_days__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Get_open_renewal.CloseDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.EndDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Get_open_renewal.Renewal_Target_Close_Date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.EndDate</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_open_renewal</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_AWS_account_number</name>
        <label>Update AWS account number</label>
        <locationX>3753</locationX>
        <locationY>215</locationY>
        <assignmentItems>
            <assignToReference>Get_opp.AWS_Account_Number__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Marketplace_Terms_Account_Number__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_contract_on_opp</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_contact_role</name>
        <label>Update contact role</label>
        <locationX>3444</locationX>
        <locationY>50</locationY>
        <assignmentItems>
            <assignToReference>Get_marketplace_buyer_contact_role.ContactId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>buyer_contact.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Commit_contact_role</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_contract_on_opp_0</name>
        <label>Update contract on opp</label>
        <locationX>4515</locationX>
        <locationY>353</locationY>
        <assignmentItems>
            <assignToReference>Get_opp.ContractId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_controlling_contract</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_opp_date_fields</name>
        <label>Update opp date fields</label>
        <locationX>4776</locationX>
        <locationY>438</locationY>
        <assignmentItems>
            <assignToReference>Get_opp.Term_Start_Date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.StartDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Get_opp.Contract_End_Date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.EndDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Get_opp.Contract_Term__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.ContractTerm</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Opp_is</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Change_impacting_open_renewal</name>
        <label>Change impacting open renewal?</label>
        <locationX>659</locationX>
        <locationY>770</locationY>
        <defaultConnector>
            <targetReference>Get_opp</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Auto_renew_Period_mo__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Auto_renewal_notice_days__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Billing_Email__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Billing_Frequency__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Id</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Governing_Terms__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Payment_Method__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Payment_Terms__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Renewal_Terms_Type__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_open_renewal</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Deal_is_changed_to</name>
        <label>Deal is changed to</label>
        <locationX>5146</locationX>
        <locationY>480</locationY>
        <defaultConnector>
            <targetReference>Update_opp</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Other</defaultConnectorLabel>
        <rules>
            <name>signed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Proposal_Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>signed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Proposal_Status__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Move_opp_to_stage_6</targetReference>
            </connector>
            <label>signed</label>
        </rules>
        <rules>
            <name>signing</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Proposal_Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>signing</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Proposal_Status__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Move_opp_to_stage_6</targetReference>
            </connector>
            <label>signing</label>
        </rules>
    </decisions>
    <decisions>
        <name>Found_buyer_contact</name>
        <label>Found buyer contact?</label>
        <locationX>2424</locationX>
        <locationY>248</locationY>
        <defaultConnector>
            <targetReference>Build_new_contact</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes_found_Contact</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_buyer_contact</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_contact_equal_to_found</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Found_contact_role</name>
        <label>Found contact role?</label>
        <locationX>3080</locationX>
        <locationY>239</locationY>
        <defaultConnector>
            <targetReference>Create_contact_role</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes_found_contactrole</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_marketplace_buyer_contact_role</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_contact_role_contact_correct</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Found_open_renewal</name>
        <label>Found open renewal?</label>
        <locationX>959</locationX>
        <locationY>600</locationY>
        <defaultConnector>
            <targetReference>Get_opp</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes_found_open</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_open_renewal</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_open_renewal_contract</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_contact_role_contact_correct</name>
        <label>Is contact role contact correct?</label>
        <locationX>3263</locationX>
        <locationY>160</locationY>
        <defaultConnector>
            <targetReference>Update_contact_role</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes_correct_contact</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_marketplace_buyer_contact_role.ContactId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>buyer_contact.Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Marketplace_Type</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_controlling_contract</name>
        <label>Is controlling contract?</label>
        <locationX>4547</locationX>
        <locationY>589</locationY>
        <defaultConnector>
            <targetReference>Opp_is</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes_controlling</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Is_Controlling_Contract__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_opp_date_fields</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Marketplace_Terms_Included</name>
        <label>Marketplace Terms Included?</label>
        <locationX>2045</locationX>
        <locationY>611</locationY>
        <defaultConnector>
            <targetReference>Update_contract_on_opp</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes_marketplace</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Marketplace_Terms_Included__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_or_create_buyer_contact</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Marketplace_Type</name>
        <label>Marketplace Type</label>
        <locationX>3453</locationX>
        <locationY>390</locationY>
        <defaultConnector>
            <targetReference>Update_contract_on_opp</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Other</defaultConnectorLabel>
        <rules>
            <name>AWS_Marketplace</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Marketplace_Terms_Marketplace_Name__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>AWS Marketplace</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_AWS_account_number</targetReference>
            </connector>
            <label>AWS Marketplace</label>
        </rules>
    </decisions>
    <decisions>
        <name>Opp_is</name>
        <label>Opp is</label>
        <locationX>4938</locationX>
        <locationY>579</locationY>
        <defaultConnector>
            <targetReference>Update_opp</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Closed</defaultConnectorLabel>
        <rules>
            <name>Open</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Opportunity__r.IsClosed</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Deal_is_changed_to</targetReference>
            </connector>
            <label>Open</label>
        </rules>
    </decisions>
    <decisions>
        <name>Renewal_terms_0</name>
        <label>Renewal terms?</label>
        <locationX>1319</locationX>
        <locationY>416</locationY>
        <defaultConnector>
            <targetReference>Set_open_renewal_remove_auto_close</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Manual</defaultConnectorLabel>
        <rules>
            <name>Automatic_0</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Renewal_Terms_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Automatic</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_open_renewal_auto_close</targetReference>
            </connector>
            <label>Automatic</label>
        </rules>
    </decisions>
    <decisions>
        <name>RevOps_stamp_DocuSign_ID</name>
        <label>RevOps stamp DocuSign ID?</label>
        <locationX>5525</locationX>
        <locationY>362</locationY>
        <defaultConnector>
            <targetReference>Update_opp</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes_revops_docusign</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.DocuSign_Envelope_ID__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Mark_auto_deal_desk_approval</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Update_contract_on_opp</name>
        <label>Update contract on opp?</label>
        <locationX>4237</locationX>
        <locationY>578</locationY>
        <defaultConnector>
            <targetReference>Is_controlling_contract</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes_update_opp</name>
            <conditionLogic>1 AND 2 AND (3 OR 4)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RecordType.Name</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Order Form</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Opportunity__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Opportunity__r.ContractId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Opportunity__r.Contract.CreatedDate</leftValueReference>
                <operator>LessThan</operator>
                <rightValue>
                    <elementReference>$Record.CreatedDate</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_contract_on_opp_0</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Update_or_create_buyer_contact</name>
        <label>Update or create buyer contact?</label>
        <locationX>2180</locationX>
        <locationY>428</locationY>
        <defaultConnector>
            <targetReference>Marketplace_Type</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes_update_buyer</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Marketplace_Terms_Buyer_Email__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record__Prior.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Marketplace_Terms_Buyer_Last_Name__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_buyer_contact</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <description>Removed isChanged requirement on Ops Stemp DocSign ID? Decision node and wired the deal desk check to only fire when a deal is in signed/signed status.</description>
    <environments>Default</environments>
    <formulas>
        <name>Calc_governing_terms_open_renewal</name>
        <dataType>String</dataType>
        <expression>CASE({!$Record.Governing_Terms__c},
 &quot;Online ToS&quot;,&quot;Online ToS&quot;,
 &quot;Pre-Existing MSA&quot;
)</expression>
    </formulas>
    <formulas>
        <name>open_renewal_auto_close_RTCD</name>
        <dataType>Date</dataType>
        <expression>{!Get_open_renewal.Term_Start_Date__c}-({!$Record.Auto_renewal_notice_days__c}+1)</expression>
    </formulas>
    <formulas>
        <name>opp_close_date_formatted</name>
        <dataType>String</dataType>
        <expression>TEXT(MONTH({!$Record.Opportunity__r.CloseDate}))&amp;&quot;/&quot;&amp;TEXT(DAY({!$Record.Opportunity__r.CloseDate}))&amp;&quot;/&quot;&amp;TEXT(YEAR({!$Record.Opportunity__r.CloseDate}))</expression>
    </formulas>
    <interviewLabel>Contract - After Save Automations {!$Flow.CurrentDateTime} {!$Record.Opportunity__r.Name}</interviewLabel>
    <label>Contract - After Save Automations</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>Create_contacct</name>
        <label>Create contacct</label>
        <locationX>2784</locationX>
        <locationY>303</locationY>
        <connector>
            <targetReference>Get_marketplace_buyer_contact_role</targetReference>
        </connector>
        <inputReference>buyer_contact</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Create_contact_role</name>
        <label>Create contact role</label>
        <locationX>3290</locationX>
        <locationY>295</locationY>
        <connector>
            <targetReference>Marketplace_Type</targetReference>
        </connector>
        <inputAssignments>
            <field>ContactId</field>
            <value>
                <elementReference>buyer_contact.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OpportunityId</field>
            <value>
                <elementReference>$Record.Opportunity__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Role</field>
            <value>
                <stringValue>Marketplace Buyer</stringValue>
            </value>
        </inputAssignments>
        <object>OpportunityContactRole</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordLookups>
        <name>Get_buyer_contact</name>
        <label>Get buyer contact</label>
        <locationX>2280</locationX>
        <locationY>247</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Found_buyer_contact</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Email</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Marketplace_Terms_Buyer_Email__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>AccountId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.AccountId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Contact</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_marketplace_buyer_contact_role</name>
        <label>Get marketplace buyer contact role</label>
        <locationX>2941</locationX>
        <locationY>236</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Found_contact_role</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OpportunityId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Opportunity__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Role</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Marketplace Buyer</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>OpportunityContactRole</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_open_renewal</name>
        <label>Get open renewal</label>
        <locationX>804</locationX>
        <locationY>619</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Found_open_renewal</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Originating_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Opportunity__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Opportunity_Record_Type_Name__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Renewal</stringValue>
            </value>
        </filters>
        <filters>
            <field>IsClosed</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Booking_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Standard</stringValue>
            </value>
        </filters>
        <filters>
            <field>Originating_Opportunity__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_opp</name>
        <label>Get opp</label>
        <locationX>1846</locationX>
        <locationY>609</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Marketplace_Terms_Included</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Opportunity__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Commit_contact_role</name>
        <label>Commit contact role</label>
        <locationX>3472</locationX>
        <locationY>203</locationY>
        <connector>
            <targetReference>Marketplace_Type</targetReference>
        </connector>
        <inputReference>Get_marketplace_buyer_contact_role</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_open_renewal</name>
        <label>Update open renewal</label>
        <locationX>1680</locationX>
        <locationY>400</locationY>
        <connector>
            <targetReference>Get_opp</targetReference>
        </connector>
        <inputReference>Get_open_renewal</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_open_renewal_contract</name>
        <label>Update open renewal contract</label>
        <locationX>1162</locationX>
        <locationY>481</locationY>
        <connector>
            <targetReference>Renewal_terms_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_open_renewal.ContractId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Auto_renew_Period_mo__c</field>
            <value>
                <elementReference>$Record.Auto_renew_Period_mo__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Auto_renewal_notice_days__c</field>
            <value>
                <elementReference>$Record.Auto_renewal_notice_days__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Billing_Email__c</field>
            <value>
                <elementReference>$Record.Billing_Email__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Billing_Frequency__c</field>
            <value>
                <elementReference>$Record.Billing_Frequency__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Controlling_Agreement__c</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Governing_Terms__c</field>
            <value>
                <elementReference>Calc_governing_terms_open_renewal</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Payment_Method__c</field>
            <value>
                <elementReference>$Record.Payment_Method__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Payment_Terms__c</field>
            <value>
                <elementReference>$Record.Payment_Terms__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Renewal_Terms_Type__c</field>
            <value>
                <elementReference>$Record.Renewal_Terms_Type__c</elementReference>
            </value>
        </inputAssignments>
        <object>Contract</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_opp</name>
        <label>Update opp</label>
        <locationX>5951</locationX>
        <locationY>598</locationY>
        <inputReference>Get_opp</inputReference>
    </recordUpdates>
    <start>
        <locationX>51</locationX>
        <locationY>681</locationY>
        <connector>
            <targetReference>Change_impacting_open_renewal</targetReference>
        </connector>
        <object>Contract</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <triggerOrder>1</triggerOrder>
    <variables>
        <name>buyer_contact</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Contact</objectType>
    </variables>
</Flow>
