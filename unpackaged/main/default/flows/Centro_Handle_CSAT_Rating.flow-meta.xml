<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>creat_troubleshoot</name>
        <label>creat troubleshoot</label>
        <locationX>909</locationX>
        <locationY>1440</locationY>
        <actionName>Centro__SendMessageFlow</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>troubleshooting</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>channelId</name>
            <value>
                <stringValue>C072SK8H57U</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>channelName</name>
            <value>
                <stringValue>centro-testing</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>InterviewGuid</name>
            <value>
                <stringValue>{!$Flow.InterviewGuid}</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>message</name>
            <value>
                <stringValue>&lt;p&gt;PostCreateBody: {!PostCreateBody}&lt;/p&gt;&lt;p&gt;User Create Error Message: {!varCreateUserError}&lt;/p&gt;&lt;p&gt;after create&lt;/p&gt;&lt;p&gt;delighted user: {!varCreateDelightedUser}&lt;/p&gt;</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>pinMessage</name>
            <value>
                <stringValue>false</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>sendImmediately</name>
            <value>
                <stringValue>false</stringValue>
            </value>
        </inputParameters>
        <nameSegment>Centro__SendMessageFlow</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <actionCalls>
        <name>Create_Delighted_User</name>
        <label>Create Delighted User</label>
        <locationX>777</locationX>
        <locationY>918</locationY>
        <actionName>MakeHTTPCall</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Assign_User_create</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>Body</name>
            <value>
                <elementReference>PostCreateBody</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>Endpoint</name>
            <value>
                <stringValue>https://api.delighted.com/v1/people</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>Headers</name>
            <value>
                <stringValue>[{&quot;key&quot;:&quot;Authorization&quot;,&quot;value&quot;:&quot;Basic NUlkSmMwY0tqZENNODdvakdtdHdoTzRzeFFNdFpOeUc=&quot;,&quot;order&quot;:0},{&quot;key&quot;:&quot;Content-Type&quot;,&quot;value&quot;:&quot;application/json&quot;,&quot;order&quot;:1},{&quot;key&quot;:&quot;Accept&quot;,&quot;value&quot;:&quot;application/json&quot;,&quot;order&quot;:2}]</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>Method</name>
            <value>
                <stringValue>post</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>Params</name>
            <value>
                <stringValue>[{&quot;key&quot;:&quot;&quot;,&quot;value&quot;:&quot;&quot;,&quot;order&quot;:0}]</stringValue>
            </value>
        </inputParameters>
        <nameSegment>MakeHTTPCall</nameSegment>
        <offset>0</offset>
        <outputParameters>
            <assignToReference>varCreateDelightedUser</assignToReference>
            <name>Body</name>
        </outputParameters>
        <outputParameters>
            <assignToReference>varCreateUserError</assignToReference>
            <name>Error_message</name>
        </outputParameters>
        <outputParameters>
            <assignToReference>varCreateStatusCode</assignToReference>
            <name>Status_code</name>
        </outputParameters>
    </actionCalls>
    <actionCalls>
        <name>getDelightedUser</name>
        <label>getDelightedUser</label>
        <locationX>906</locationX>
        <locationY>719</locationY>
        <actionName>MakeHTTPCall</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Is_Delighted_User</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>Endpoint</name>
            <value>
                <elementReference>getDelightedUserURL</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>Headers</name>
            <value>
                <stringValue>[{&quot;key&quot;:&quot;Authorization&quot;,&quot;value&quot;:&quot;Basic NUlkSmMwY0tqZENNODdvakdtdHdoTzRzeFFNdFpOeUc=&quot;,&quot;order&quot;:0},{&quot;key&quot;:&quot;Content-Type&quot;,&quot;value&quot;:&quot;application/json&quot;,&quot;order&quot;:1},{&quot;key&quot;:&quot;Accept&quot;,&quot;value&quot;:&quot;application/json&quot;,&quot;order&quot;:2}]</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>Method</name>
            <value>
                <stringValue>get</stringValue>
            </value>
        </inputParameters>
        <nameSegment>MakeHTTPCall</nameSegment>
        <offset>0</offset>
        <outputParameters>
            <assignToReference>varGetDelightedUser</assignToReference>
            <name>Body</name>
        </outputParameters>
        <outputParameters>
            <assignToReference>varGetStatusCode</assignToReference>
            <name>Status_code</name>
        </outputParameters>
    </actionCalls>
    <actionCalls>
        <name>Post_CSAT_Survey</name>
        <label>Post CSAT Survey</label>
        <locationX>908</locationX>
        <locationY>1244</locationY>
        <actionName>MakeHTTPCall</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>creat_troubleshoot</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>Body</name>
            <value>
                <elementReference>postSurveyBody</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>Endpoint</name>
            <value>
                <stringValue>https://api.delighted.com/v1/survey_responses</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>Headers</name>
            <value>
                <stringValue>[{&quot;key&quot;:&quot;Authorization&quot;,&quot;value&quot;:&quot;Basic NUlkSmMwY0tqZENNODdvakdtdHdoTzRzeFFNdFpOeUc=&quot;,&quot;order&quot;:0},{&quot;key&quot;:&quot;Content-Type&quot;,&quot;value&quot;:&quot;application/json&quot;,&quot;order&quot;:1},{&quot;key&quot;:&quot;Accept&quot;,&quot;value&quot;:&quot;application/json&quot;,&quot;order&quot;:2}]</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>Method</name>
            <value>
                <stringValue>post</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>Params</name>
            <value>
                <stringValue>[{&quot;key&quot;:&quot;&quot;,&quot;value&quot;:&quot;&quot;,&quot;order&quot;:0}]</stringValue>
            </value>
        </inputParameters>
        <nameSegment>MakeHTTPCall</nameSegment>
        <offset>0</offset>
        <outputParameters>
            <assignToReference>varPostBody</assignToReference>
            <name>Body</name>
        </outputParameters>
        <outputParameters>
            <assignToReference>varPostStatusCode</assignToReference>
            <name>Status_code</name>
        </outputParameters>
    </actionCalls>
    <actionCalls>
        <name>Send_Optional_Comment</name>
        <label>Send Optional Comment</label>
        <locationX>345</locationX>
        <locationY>596</locationY>
        <actionName>Centro__SendMessageFlow</actionName>
        <actionType>apex</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>buttons</name>
            <value>
                <stringValue>[{&quot;label&quot;:&quot;Dismiss&quot;,&quot;name&quot;:&quot;dismiss_{!RatingCaseId}&quot;,&quot;URL&quot;:&quot;&quot;,&quot;id&quot;:&quot;0.19822014699144952&quot;,&quot;invocation&quot;:&quot;REPLACE_ME&quot;,&quot;delete&quot;:true,&quot;deleteBtn&quot;:false,&quot;event&quot;:true,&quot;auth&quot;:false},{&quot;label&quot;:&quot;Add Comment&quot;,&quot;name&quot;:&quot;{!RatingCaseId}&quot;,&quot;URL&quot;:&quot;&quot;,&quot;id&quot;:&quot;0.9085692958731886&quot;,&quot;invocation&quot;:&quot;REPLACE_ME&quot;,&quot;delete&quot;:true,&quot;deleteBtn&quot;:false,&quot;event&quot;:true,&quot;auth&quot;:false,&quot;form&quot;:true,&quot;formId&quot;:&quot;a1uPj00000376dFIAQ&quot;}]</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>channelId</name>
            <value>
                <stringValue>{!varChannelId}</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>ephemeralUser</name>
            <value>
                <elementReference>varSlackId</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>InterviewGuid</name>
            <value>
                <stringValue>{!$Flow.InterviewGuid}</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>message</name>
            <value>
                <stringValue>&lt;p&gt;Would you like to leave a comment?&lt;/p&gt;</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>pinMessage</name>
            <value>
                <stringValue>false</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>postEphemeral</name>
            <value>
                <stringValue>true</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>postReply</name>
            <value>
                <stringValue>true</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>replyMessageTs</name>
            <value>
                <elementReference>varMessageTS</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>shouldAttachFile</name>
            <value>
                <stringValue>false</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>shouldAttachReport</name>
            <value>
                <stringValue>false</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>shouldLinkRecord</name>
            <value>
                <stringValue>false</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>startThread</name>
            <value>
                <stringValue>false</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>updateMessage</name>
            <value>
                <stringValue>false</stringValue>
            </value>
        </inputParameters>
        <nameSegment>Centro__SendMessageFlow</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <actionCalls>
        <name>troubleshooting</name>
        <label>troubleshooting</label>
        <locationX>645</locationX>
        <locationY>1615</locationY>
        <actionName>Centro__SendMessageFlow</actionName>
        <actionType>apex</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>channelId</name>
            <value>
                <stringValue>C072SK8H57U</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>channelName</name>
            <value>
                <stringValue>centro-testing</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>InterviewGuid</name>
            <value>
                <stringValue>{!$Flow.InterviewGuid}</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>message</name>
            <value>
                <stringValue>&lt;p&gt;varDelightedUser: {!varFinalUser}&lt;/p&gt;&lt;p&gt;varCaseID: {!varCaseId}&lt;/p&gt;&lt;p&gt;score: {!varRating}&lt;/p&gt;&lt;p&gt;comment: {!varComment}&lt;/p&gt;&lt;p&gt;person: {!person}&lt;/p&gt;&lt;p&gt;Create Status code: {!varCreateStatusCode}&lt;/p&gt;&lt;p&gt;Post Status code: {!varPostStatusCode}&lt;/p&gt;&lt;p&gt;Post Body: {!varPostBody}&lt;/p&gt;&lt;p&gt;PostSurveyBody: {!postSurveyBody}&lt;/p&gt;</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>pinMessage</name>
            <value>
                <stringValue>false</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>sendImmediately</name>
            <value>
                <stringValue>false</stringValue>
            </value>
        </inputParameters>
        <nameSegment>Centro__SendMessageFlow</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <apiVersion>61.0</apiVersion>
    <assignments>
        <name>Assign_User_create</name>
        <label>Assign User</label>
        <locationX>776</locationX>
        <locationY>1052</locationY>
        <assignmentItems>
            <assignToReference>varFinalUser</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varCreateDelightedUser</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Post_CSAT_Survey</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_User_Get</name>
        <label>Assign User</label>
        <locationX>1039</locationX>
        <locationY>1056</locationY>
        <assignmentItems>
            <assignToReference>varFinalUser</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varGetDelightedUser</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Post_CSAT_Survey</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_variable_with_comment</name>
        <label>assign variable with comment</label>
        <locationX>1035</locationX>
        <locationY>508</locationY>
        <assignmentItems>
            <assignToReference>varContactEmail</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>getCase.ContactEmail</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCaseId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>getCase.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varRating</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>getCase.CSAT_Score__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varComment</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>getCase.CSAT_Comment__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>getDelightedUser</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_variables</name>
        <label>assign variables</label>
        <locationX>843</locationX>
        <locationY>490</locationY>
        <assignmentItems>
            <assignToReference>varContactEmail</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>getCase_0.ContactEmail</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCaseId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>getCase_0.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varRating</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>getCase_0.CSAT_Score__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>getDelightedUser</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Check_Rating</name>
        <label>Check Rating</label>
        <locationX>623</locationX>
        <locationY>235</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Rating_Button_Click</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>varAPIName</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>5_</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varAPIName</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>4_</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varAPIName</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>3_</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varAPIName</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>2_</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varAPIName</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>1_</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>getCaseTS</targetReference>
            </connector>
            <label>Rating Button Click</label>
        </rules>
        <rules>
            <name>Rating_Comment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Centro__API_Name__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>CSAT comment</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>getCase</targetReference>
            </connector>
            <label>Rating Comment</label>
        </rules>
        <rules>
            <name>Comment_Dismissed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Centro__API_Name__c</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>dismiss_</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>getCase_0</targetReference>
            </connector>
            <label>Comment Dismissed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Delighted_User</name>
        <label>Is Delighted User?</label>
        <locationX>898</locationX>
        <locationY>856</locationY>
        <defaultConnector>
            <targetReference>Assign_User_Get</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Non_Delighted_User</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varGetDelightedUser</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>[]</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Delighted_User</targetReference>
            </connector>
            <label>Non Delighted User</label>
        </rules>
    </decisions>
    <description>comment dismiss bug fix</description>
    <environments>Default</environments>
    <formulas>
        <name>DismissCaseId</name>
        <dataType>String</dataType>
        <expression>RIGHT({!varAPIName}, LEN({!varAPIName}) - 8)</expression>
    </formulas>
    <formulas>
        <name>getDelightedUserURL</name>
        <dataType>String</dataType>
        <expression>&quot;https://api.delighted.com/v1/people?email=&quot;&amp;{!varContactEmail}</expression>
    </formulas>
    <formulas>
        <description>id of the delighted user</description>
        <name>person</name>
        <dataType>String</dataType>
        <expression>MID(
    {!varFinalUser}, 
    FIND(&#39;&quot;id&quot;:&quot;&#39;, {!varFinalUser}) + 6, 
    FIND(&#39;&quot;&#39;, {!varFinalUser}, FIND(&#39;&quot;id&quot;:&quot;&#39;, {!varFinalUser}) + 6) - (FIND(&#39;&quot;id&quot;:&quot;&#39;, {!varFinalUser}) + 6)
)</expression>
    </formulas>
    <formulas>
        <name>PersonProperties</name>
        <dataType>String</dataType>
        <expression>&#39;{&#39; +
&#39;&quot;caseId&quot;: &quot;&#39; + {!varCaseId} + &#39;&quot;,&#39; +
&#39;&quot;contactId&quot;: &quot;&#39; + {!varContactId} + &#39;&quot;&#39; +
&#39;}&#39;</expression>
    </formulas>
    <formulas>
        <name>PostCreateBody</name>
        <dataType>String</dataType>
        <expression>&quot;{\&quot;email\&quot;: \&quot;&quot; &amp; {!varContactEmail} &amp; &quot;\&quot; &quot; &amp;
&quot;}&quot;</expression>
    </formulas>
    <formulas>
        <name>postSurveyBody</name>
        <dataType>String</dataType>
        <expression>&quot;{\&quot;survey_type\&quot;: \&quot;csat\&quot;, &quot; &amp;
&quot;\&quot;person\&quot;: \&quot;&quot; &amp; {!person} &amp; &quot;\&quot;, &quot; &amp;
&quot;\&quot;score\&quot;: &quot; &amp; {!varRating}&amp; &quot;, &quot; &amp;
&quot;\&quot;comment\&quot;: \&quot;&quot; &amp; {!varComment} &amp; &quot;\&quot;, &quot; &amp;
&quot;  \&quot;person_properties\&quot;: { &quot; &amp;
&quot;    \&quot;caseId\&quot;: \&quot;&quot; &amp; {!varCaseId} &amp; &quot;\&quot;, &quot; &amp;
&quot;    \&quot;contactId\&quot;: \&quot;&quot; &amp; {!varContactId} &amp; &quot;\&quot; &quot; &amp;
&quot;  } &quot; &amp;
&quot;}&quot;</expression>
    </formulas>
    <formulas>
        <name>RatingCaseId</name>
        <dataType>String</dataType>
        <expression>RIGHT({!varAPIName}, LEN({!varAPIName}) - 2)</expression>
    </formulas>
    <formulas>
        <description>the numeric value of the customer rating</description>
        <name>Score</name>
        <dataType>Number</dataType>
        <expression>VALUE(LEFT({!varAPIName}, 1))</expression>
        <scale>0</scale>
    </formulas>
    <interviewLabel>Centro: Handle CSAT Rating {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Centro: Handle CSAT Rating</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>getCase</name>
        <label>getCase</label>
        <locationX>1023</locationX>
        <locationY>306</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>assign_variable_with_comment</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Centro__Value__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>getCase_0</name>
        <label>getCase</label>
        <locationX>858</locationX>
        <locationY>368</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>assign_variables</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>DismissCaseId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>getCaseTS</name>
        <label>getCaseTS</label>
        <locationX>345</locationX>
        <locationY>277</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_CSAT_Score</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>RatingCaseId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>Slack_Thread_Timestamp__c</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Assign_CSAT_Score</name>
        <label>Assign CSAT Score</label>
        <locationX>345</locationX>
        <locationY>436</locationY>
        <connector>
            <targetReference>Send_Optional_Comment</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>RatingCaseId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>CSAT_Score__c</field>
            <value>
                <elementReference>Score</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <start>
        <locationX>505</locationX>
        <locationY>48</locationY>
        <connector>
            <targetReference>Check_Rating</targetReference>
        </connector>
        <flowRunAsUser>TriggeringUser</flowRunAsUser>
        <object>Centro__Action__e</object>
        <triggerType>PlatformEvent</triggerType>
    </start>
    <status>Active</status>
    <variables>
        <name>varAPIName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>$Record.Centro__API_Name__c</elementReference>
        </value>
    </variables>
    <variables>
        <name>varAttachments</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>$Record.Centro__Message_Attachments__c</elementReference>
        </value>
    </variables>
    <variables>
        <name>varCaseId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varChannelId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>$Record.Centro__ChannelId__c</elementReference>
        </value>
    </variables>
    <variables>
        <name>varComment</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>getCase.CSAT_Comment__c</elementReference>
        </value>
    </variables>
    <variables>
        <name>varContactEmail</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>getCase.ContactEmail</elementReference>
        </value>
    </variables>
    <variables>
        <name>varContactId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>getCase.ContactId</elementReference>
        </value>
    </variables>
    <variables>
        <name>varCreateDelightedUser</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varCreateStatusCode</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varCreateUserError</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varFinalUser</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varGetDelightedUser</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varGetStatusCode</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varInterviewGUID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>$Record.Centro__InterviewGuid__c</elementReference>
        </value>
    </variables>
    <variables>
        <name>varMessageTS</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>getCaseTS.Slack_Thread_Timestamp__c</elementReference>
        </value>
    </variables>
    <variables>
        <name>varPostBody</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varPostStatusCode</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varRating</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varReplayID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>$Record.ReplayId</elementReference>
        </value>
    </variables>
    <variables>
        <name>varSlackEmail</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>$Record.Centro__Slack_User_Email__c</elementReference>
        </value>
    </variables>
    <variables>
        <name>varSlackId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>$Record.Centro__UserId__c</elementReference>
        </value>
    </variables>
    <variables>
        <name>varValue</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>$Record.Centro__Value__c</elementReference>
        </value>
    </variables>
</Flow>
