!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.humanFormat=f()}}(function(){var define;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){!function(root,factory){"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?module.exports=factory():root.humanFormat=factory()}(this,function(){"use strict";function assignBase(dst,src){var prop;for(prop in src)has(src,prop)&&(dst[prop]=src[prop])}function assign(dst,src){var i,n;for(i=0,n=arguments.length;i<n;++i)src=arguments[i],src&&assignBase(dst,src);return dst}function compareLongestFirst(a,b){return b.length-a.length}function compareSmallestFactorFirst(a,b){return a.factor-b.factor}function escapeRegexp(str){return str.replace(/([.*+?=^!:${}()|[\]\/\\])/g,"\\$1")}function forEach(arr,iterator){var i,n;for(i=0,n=arr.length;i<n;++i)iterator(arr[i],i)}function forOwn(obj,iterator){var prop;for(prop in obj)has(obj,prop)&&iterator(obj[prop],prop)}function isDefined(val){return null!=val}function resolve(container,entry){for(;isString(entry);)entry=container[entry];return entry}function round(f,n){if(!n)return Math.round(f);var p=Math.pow(10,n);return Math.round(f*p)/p}function Scale(prefixes){this._prefixes=prefixes;var escapedPrefixes=[],list=[];forOwn(prefixes,function(factor,prefix){escapedPrefixes.push(escapeRegexp(prefix)),list.push({factor:factor,prefix:prefix})});var lcPrefixes=this._lcPrefixes={};forOwn(prefixes,function(factor,prefix){var lcPrefix=prefix.toLowerCase();has(prefixes,lcPrefix)||(lcPrefixes[lcPrefix]=prefix)}),list.sort(compareSmallestFactorFirst),this._list=list,escapedPrefixes.sort(compareLongestFirst),this._regexp=new RegExp("^\\s*(\\d+(?:\\.\\d+)?)\\s*("+escapedPrefixes.join("|")+")\\s*(.*)\\s*?$","i")}function humanFormat(value,opts){opts=assign({},defaults,opts);var info=humanFormat$raw(value,opts),suffix=info.prefix+opts.unit;return round(info.value,opts.decimals)+(suffix?opts.separator+suffix:"")}function humanFormat$parse(str,opts){var info=humanFormat$parse$raw(str,opts);return info.value*info.factor}function humanFormat$parse$raw(str,opts){if(!isString(str))throw new TypeError("str must be a string");opts=assign({},defaults,opts);var scale=resolve(scales,opts.scale);if(!scale)throw new Error("missing scale");var info=scale.parse(str,opts.strict);if(!info)throw new Error("cannot parse str");return info}function humanFormat$raw(value,opts){if(0===value)return{value:0,prefix:""};if(!isNumber(value))throw new TypeError("value must be a number");opts=assign({},defaults,opts);var scale=resolve(scales,opts.scale);if(!scale)throw new Error("missing scale");var factor,prefix=opts.prefix;if(isDefined(prefix)){if(!has(scale._prefixes,prefix))throw new Error("invalid prefix");factor=scale._prefixes[prefix]}else{var _ref=scale.findPrefix(value);prefix=_ref.prefix,factor=_ref.factor}return value/=factor,{prefix:prefix,value:value}}var has=function(hasOwnProperty){return function(obj,prop){return obj&&hasOwnProperty.call(obj,prop)}}(Object.prototype.hasOwnProperty),toString=function(toString_){return function(val){return toString_.call(val)}}(Object.prototype.toString),isNumber=function(tag){return function(value){return value===value&&toString(value)===tag}}(toString(0)),isString=function(tag){return function(value){return toString(value)===tag}}(toString(""));Scale.create=function(prefixesList,base,initExp){var prefixes={};return forEach(prefixesList,function(prefix,i){prefixes[prefix]=Math.pow(base,i+(initExp||0))}),new Scale(prefixes)},Scale.prototype.findPrefix=function(value){for(var mid,current,list=this._list,low=0,high=list.length-1;low!==high;)mid=low+high+1>>1,current=list[mid].factor,current>value?high=mid-1:low=mid;return list[low]},Scale.prototype.parse=function(str,strict){var matches=str.match(this._regexp);if(!matches)return null;var factor,prefix=matches[2];if(has(this._prefixes,prefix))factor=this._prefixes[prefix];else{if(strict||(prefix=prefix.toLowerCase(),!has(this._lcPrefixes,prefix)))return null;prefix=this._lcPrefixes[prefix],factor=this._prefixes[prefix]}return{factor:factor,prefix:prefix,unit:matches[3],value:+matches[1]}};var scales={binary:Scale.create(",ki,Mi,Gi,Ti,Pi,Ei,Zi,Yi".split(","),1024),SI:Scale.create("y,z,a,f,p,n,Âµ,m,,k,M,G,T,P,E,Z,Y".split(","),1e3,-8)},defaults={scale:"SI",strict:!1,unit:"",decimals:2,separator:" "};return humanFormat.parse=humanFormat$parse,humanFormat$parse.raw=humanFormat$parse$raw,humanFormat.raw=humanFormat$raw,humanFormat.Scale=Scale,humanFormat})},{}]},{},[1])(1)});
