(function(){function a(g){g.fn._fadeIn=g.fn.fadeIn;var d=g.noop||function(){};var k=/MSIE/.test(navigator.userAgent);g.blockUI=function(o){e(window,o)};g.unblockUI=function(o){h(window,o)};g.growlUI=function(u,r,s,p){var q=g('<div class="growlUI"></div>');if(u){q.append("<h1>"+u+"</h1>")}if(r){q.append("<h2>"+r+"</h2>")}if(s===undefined){s=3000}var o=function(v){v=v||{};g.blockUI({message:q,fadeIn:typeof v.fadeIn!=="undefined"?v.fadeIn:700,fadeOut:typeof v.fadeOut!=="undefined"?v.fadeOut:1000,timeout:typeof v.timeout!=="undefined"?v.timeout:s,centerY:false,showOverlay:false,onUnblock:p,css:g.blockUI.defaults.growlCSS})};o();var t=q.css("opacity");q.mouseover(function(){o({fadeIn:0,timeout:30000});var v=g(".blockMsg");v.stop();v.fadeTo(300,1)}).mouseout(function(){g(".blockMsg").fadeOut(1000)})};g.fn.block=function(p){if(this[0]===window){g.blockUI(p);return this}var o=g.extend({},g.blockUI.defaults,p||{});this.each(function(){var q=g(this);if(o.ignoreIfBlocked&&q.data("blockUI.isBlocked")){return}q.unblock({fadeOut:0})});return this.each(function(){if(g.css(this,"position")=="static"){this.style.position="relative";g(this).data("blockUI.static",true)}this.style.zoom=1;e(this,p)})};g.fn.unblock=function(o){if(this[0]===window){g.unblockUI(o);return this}return this.each(function(){h(this,o)})};g.blockUI.version=2.7;g.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var f=[];function e(q,y){var x,G;var v=(q==window);var t=(y&&y.message!==undefined?y.message:undefined);y=g.extend({},g.blockUI.defaults,y||{});if(y.ignoreIfBlocked&&g(q).data("blockUI.isBlocked")){return}y.overlayCSS=g.extend({},g.blockUI.defaults.overlayCSS,y.overlayCSS||{});x=g.extend({},g.blockUI.defaults.css,y.css||{});if(y.onOverlayClick){y.overlayCSS.cursor="pointer"}G=g.extend({},g.blockUI.defaults.themedCSS,y.themedCSS||{});t=t===undefined?y.message:t;if(v&&c){h(window,{fadeOut:0})}if(t&&typeof t!="string"&&(t.parentNode||t.jquery)){var C=t.jquery?t[0]:t;var I={};g(q).data("blockUI.history",I);I.el=C;I.parent=C.parentNode;I.display=C.style.display;I.position=C.style.position;if(I.parent){I.parent.removeChild(C)}}g(q).data("blockUI.onUnblock",y.onUnblock);var w=y.baseZ;var F,E,D,A;if(k||y.forceIframe){F=g('<iframe class="blockUI" style="z-index:'+(w++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+y.iframeSrc+'"></iframe>')}else{F=g('<div class="blockUI" style="display:none"></div>')}if(y.theme){E=g('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(w++)+';display:none"></div>')}else{E=g('<div class="blockUI blockOverlay" style="z-index:'+(w++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>')}if(y.theme&&v){A='<div class="blockUI '+y.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(w+10)+';display:none;position:fixed">';if(y.title){A+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(y.title||"&nbsp;")+"</div>"}A+='<div class="ui-widget-content ui-dialog-content"></div>';A+="</div>"}else{if(y.theme){A='<div class="blockUI '+y.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(w+10)+';display:none;position:absolute">';if(y.title){A+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(y.title||"&nbsp;")+"</div>"}A+='<div class="ui-widget-content ui-dialog-content"></div>';A+="</div>"}else{if(v){A='<div class="blockUI '+y.blockMsgClass+' blockPage" style="z-index:'+(w+10)+';display:none;position:fixed"></div>'}else{A='<div class="blockUI '+y.blockMsgClass+' blockElement" style="z-index:'+(w+10)+';display:none;position:absolute"></div>'}}}D=g(A);if(t){if(y.theme){D.css(G);D.addClass("ui-widget-content")}else{D.css(x)}}if(!y.theme){E.css(y.overlayCSS)}E.css("position",v?"fixed":"absolute");if(k||y.forceIframe){F.css("opacity",0)}var u=[F,E,D],H=v?g("body"):g(q);g.each(u,function(){this.appendTo(H)});if(y.theme&&y.draggable&&g.fn.draggable){D.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}if(t){if(y.theme){D.find(".ui-widget-content").append(t)}else{D.append(t)}if(t.jquery||t.nodeType){g(t).show()}}if((k||y.forceIframe)&&y.showOverlay){F.show()}if(y.fadeIn){var B=y.onBlock?y.onBlock:d;var p=(y.showOverlay&&!t)?B:d;var o=t?B:d;if(y.showOverlay){E._fadeIn(y.fadeIn,p)}if(t){D._fadeIn(y.fadeIn,o)}}else{if(y.showOverlay){E.show()}if(t){D.show()}if(y.onBlock){y.onBlock.bind(D)()}}j(1,q,y);if(v){c=D[0];f=g(y.focusableElements,c);if(y.focusInput){setTimeout(n,20)}}else{b(D[0],y.centerX,y.centerY)}if(y.timeout){var r=setTimeout(function(){if(v){g.unblockUI(y)}else{g(q).unblock(y)}},y.timeout);g(q).data("blockUI.timeout",r)}}function h(r,t){var s;var q=(r==window);var p=g(r);var u=p.data("blockUI.history");var v=p.data("blockUI.timeout");if(v){clearTimeout(v);p.removeData("blockUI.timeout")}t=g.extend({},g.blockUI.defaults,t||{});j(0,r,t);if(t.onUnblock===null){t.onUnblock=p.data("blockUI.onUnblock");p.removeData("blockUI.onUnblock")}var o;if(q){o=g("body").children().filter(".blockUI").add("body > .blockUI")}else{o=p.find(">.blockUI")}if(t.cursorReset){if(o.length>1){o[1].style.cursor=t.cursorReset}if(o.length>2){o[2].style.cursor=t.cursorReset}}if(q){c=f=null}if(t.fadeOut){s=o.length;o.stop().fadeOut(t.fadeOut,function(){if(--s===0){i(o,u,t,r)}})}else{i(o,u,t,r)}}function i(s,v,u,t){var r=g(t);if(r.data("blockUI.isBlocked")){return}s.each(function(w,x){if(this.parentNode){this.parentNode.removeChild(this)}});if(v&&v.el){v.el.style.display=v.display;v.el.style.position=v.position;v.el.style.cursor="default";if(v.parent){v.parent.appendChild(v.el)}r.removeData("blockUI.history")}if(r.data("blockUI.static")){r.css("position","static")}if(typeof u.onUnblock=="function"){u.onUnblock(t,u)}var o=g(document.body),q=o.width(),p=o[0].style.width;o.width(q-1).width(q);o[0].style.width=p}function j(o,s,t){var r=s==window,q=g(s);if(!o&&(r&&!c||!r&&!q.data("blockUI.isBlocked"))){return}q.data("blockUI.isBlocked",o);if(!r||!t.bindEvents||(o&&!t.showOverlay)){return}var p="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(o){g(document).on(p,t,m)}else{g(document).off(p,m)}}function m(t){if(t.type==="keydown"&&t.keyCode&&t.keyCode==9){if(c&&t.data.constrainTabKey){var q=f;var p=!t.shiftKey&&t.target===q[q.length-1];var o=t.shiftKey&&t.target===q[0];if(p||o){setTimeout(function(){n(o)},10);return false}}}var r=t.data;var s=g(t.target);if(s.hasClass("blockOverlay")&&r.onOverlayClick){r.onOverlayClick(t)}if(s.parents("div."+r.blockMsgClass).length>0){return true}return s.parents().children().filter("div.blockUI").length===0}function n(o){if(!f){return}var p=f[o===true?f.length-1:0];if(p){p.focus()}}function b(v,o,z){var w=v.parentNode,u=v.style;var q=((w.offsetWidth-v.offsetWidth)/2)-l(w,"borderLeftWidth");var r=((w.offsetHeight-v.offsetHeight)/2)-l(w,"borderTopWidth");if(o){u.left=q>0?(q+"px"):"0"}if(z){u.top=r>0?(r+"px"):"0"}}function l(o,q){return parseInt(g.css(o,q),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();
