!function(w,f){"function"==typeof define&&define.amd?define([],f):"object"==typeof exports?module.exports=f():w.download=f()}(this,function(){return function w(f,g,v){var i,y,o=window,s="application/octet-stream",a=v||s,e=f,d=!g&&!v&&e,n=document.createElement("a"),h=function(t){return String(t)},r=o.Blob||o.MozBlob||o.WebKitBlob||h,c=g||"download";if(r=r.call?r.bind(o):Blob,"true"===String(this)&&(a=(e=[e,a])[0],e=e[1]),d&&d.length<2048&&(c=d.split("/").pop().split("?")[0],n.href=d,-1!==n.href.indexOf(d))){var u=new XMLHttpRequest;return u.open("GET",d,!0),u.responseType="blob",u.onload=function(t){w(t.target.response,c,s)},setTimeout(function(){u.send()},0),u}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(e)){if(!(e.length>2096103.424&&r!==h))return navigator.msSaveBlob?navigator.msSaveBlob(U(e),c):p(e);a=(e=U(e)).type||s}function U(t){for(var l=t.split(/[:;,]/),b=l[1],B=("base64"==l[2]?atob:decodeURIComponent)(l.pop()),R=B.length,m=0,S=new Uint8Array(R);m<R;++m)S[m]=B.charCodeAt(m);return new r([S],{type:b})}function p(t,l){if("download"in n)return n.href=t,n.setAttribute("download",c),typeof sforce<"u"&&n.setAttribute("target","_blank"),n.className="download-js-link",n.innerHTML="downloading...",n.style.display="none",document.body.appendChild(n),setTimeout(function(){n.click(),document.body.removeChild(n),!0===l&&setTimeout(function(){o.URL.revokeObjectURL(n.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return t=t.replace(/^data:([\w\/\-\+]+)/,s),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var b=document.createElement("iframe");document.body.appendChild(b),l||(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,s)),b.src=t,setTimeout(function(){document.body.removeChild(b)},333)}if(i=e instanceof r?e:new r([e],{type:a}),navigator.msSaveBlob)return navigator.msSaveBlob(i,c);if(o.URL)p(o.URL.createObjectURL(i),!0);else{if("string"==typeof i||i.constructor===h)try{return p("data:"+a+";base64,"+o.btoa(i))}catch{return p("data:"+a+","+encodeURIComponent(i))}(y=new FileReader).onload=function(t){p(this.result)},y.readAsDataURL(i)}return!0}});